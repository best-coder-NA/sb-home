import{S as t,i as e,s as n,K as i,w as s,x as o,e as a,j as l,k as r,c as d,a as u,d as c,l as g,f,C as m,D as p,B as h,O as $,J as S,P as T}from"./index-847446aa.js";function v(t){let e;const n=t[12].default,a=S(n,t,t[11],null);return{c(){a&&a.c()},l(t){a&&a.l(t)},m(t,n){a&&a.m(t,n),e=!0},p(t,e){a&&a.p&&2048&e&&i(a,n,t,t[11],e,null,null)},i(t){e||(s(a,t),e=!0)},o(t){o(a,t),e=!1},d(t){a&&a.d(t)}}}function b(t){let e,n,i,h,$=t[1]&&v(t);return{c(){e=a("div"),n=l(),$&&$.c(),i=r(),this.h()},l(t){e=d(t,"DIV",{hidden:!0}),u(e).forEach(c),n=g(t),$&&$.l(t),i=r(),this.h()},h(){e.hidden=!0},m(s,o){f(s,e,o),t[13](e),f(s,n,o),$&&$.m(s,o),f(s,i,o),h=!0},p(t,[e]){t[1]?$?($.p(t,e),2&e&&s($,1)):($=v(t),$.c(),s($,1),$.m(i.parentNode,i)):$&&(m(),o($,1,1,(()=>{$=null})),p())},i(t){h||(s($),h=!0)},o(t){o($),h=!1},d(s){s&&c(e),t[13](null),s&&c(n),$&&$.d(s),s&&c(i)}}}function y(t,e,n){let i,s,o,a,{$$slots:l={},$$scope:r}=e,{toggle:d}=e,{transitions:u=""}=e,{inTransition:c=""}=e,{outTransition:g=c}=e,{inState:f=""}=e,{onState:m=""}=e,{outState:p=f}=e,{offVisible:S=!1}=e;const v=0,b=1,y=2;let E=v;h((async()=>{n(1,a=!0),await $(),s=i.nextElementSibling,void 0===d?(s.hidden=!0,"complete"===document.readyState?setTimeout(j,50):window.addEventListener("load",(()=>{setTimeout(j,50)}),{once:!0})):D()}));const j=async()=>{w(),n(2,d=!!o&&o.toggle),D(),o||setTimeout((()=>{n(2,d=!0)}),200)},w=()=>{let t=s.parentElement;for(;void 0===o&&t&&document.body!==t;)void 0!==t.toggle?(o=t,x()):t=t.parentElement},x=()=>{new MutationObserver((t=>{for(let e of t)n(2,d=e.target.toggle)})).observe(o,{attributes:!0,attributeFilter:["class"]})},V=(...t)=>{const e=L(u,c,g,f,m,p);s.classList.value=L(s.classList.value).split(" ").filter((t=>!e.includes(t))).join(" ")+" "+t.join(" ")},L=(...t)=>t.join(" ").replace(/\s+/g," ").trim(),D=()=>{s.toggle=d,d?(V(u,g,m),O()):(s.hidden=!o&&!S,V(u,f),setTimeout((()=>{V(u,c,f),O()}),250)),d||(s.hidden=!o&&!S),O()},O=()=>{s.addEventListener("transitionend",(t=>{void 0===t.target.toggle||""!==c&&t.target!==s||!(d&&E===b||!d&&E===y)||(E=v,d||(V(u,c,f),s.hidden=!o&&!S))}))};let k=!1,B=d;const C=()=>{s.hidden?(s.hidden=!1,setTimeout(C,50)):(E=b,V(u,c,m))},F=()=>{E=y,V(u,g,p)};return t.$$set=t=>{"toggle"in t&&n(2,d=t.toggle),"transitions"in t&&n(3,u=t.transitions),"inTransition"in t&&n(4,c=t.inTransition),"outTransition"in t&&n(5,g=t.outTransition),"inState"in t&&n(6,f=t.inState),"onState"in t&&n(7,m=t.onState),"outState"in t&&n(8,p=t.outState),"offVisible"in t&&n(9,S=t.offVisible),"$$scope"in t&&n(11,r=t.$$scope)},t.$$.update=()=>{var e;4&t.$$.dirty&&B!==d&&n(10,k=!0),1028&t.$$.dirty&&k&&(e=d,s.toggle=e,e?C():F())},[i,a,d,u,c,g,f,m,p,S,k,r,l,function(t){T[t?"unshift":"push"]((()=>{i=t,n(0,i)}))}]}export default class extends t{constructor(t){super(),e(this,t,y,b,n,{toggle:2,transitions:3,inTransition:4,outTransition:5,inState:6,onState:7,outState:8,offVisible:9})}}
